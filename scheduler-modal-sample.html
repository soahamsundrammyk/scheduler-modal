<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Premier Auto Deals - Demo</title>
</head>
<body>
  <h2>Click below to try the AI-powered Service Scheduler</h2>
  <button id="openModalBtn">Open Scheduler</button>

  <!-- Modal Markup -->
  <div id="scheduleModal" style="display:none;">
    <div class="modal-content">
      <span class="close-button" id="closeModal">&times;</span>
      <iframe id="serviceIframe" src="" allow="fullscreen"></iframe>
    </div>
  </div>

  <script>
    // 1. Inject modal CSS via JavaScript
    const style = document.createElement('style');
    style.textContent = `
      body {
        font-size: 16px;
        line-height: 1.5;
      }
      
      h2 {
        font-size: clamp(1.5rem, 4vw, 2rem);
        margin: 1rem;
      }
      
      #openModalBtn {
        font-size: clamp(1rem, 3vw, 1.2rem);
        padding: 12px 24px;
        margin: 1rem;
      }

      #scheduleModal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: rgba(0, 0, 0, 0.7);
      }
      
      .modal-content {
        position: relative;
        background-color: white;
        margin: 3% auto;
        padding: 20px 20px 0 15px;
        width: 90%;
        height: 90%;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        animation: fadeIn 0.3s ease-in-out;
      }
      .modal-content iframe {
        width: 100%;
        height: 100%;
        border: none;
      }
      
      .close-button {
        position: absolute;
        top: 4px;
        right: 7px;
        font-size: 22px;
        font-weight: bold;
        color: #333;
        background-color: #fff;
        border: none;
        border-radius: 50%;
        padding: 4px 8px;
        cursor: pointer;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        transition: background-color 0.3sease, transform 0.2sease;
      }
      
      .close-button:hover {
        background-color: grey;
        color: white;
        transform: scale(1.1);
      }
      
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
      }
    `;
    document.head.appendChild(style);

    // 2. Modal logic
    const modal = document.getElementById("scheduleModal");
    const openBtn = document.getElementById("openModalBtn");
    const closeBtn = document.getElementById("closeModal");
    const iframe = document.getElementById("serviceIframe");
    const iframeURL = "https://srishti244.mykaarma.dev/web-scheduler-app/entry?dealerUuid=cb731d36fd635ddd6ef8dd43500892b0c0249d1c01a46dbcc445a809c0a8e3b2&utm_source=12345";

    openBtn.addEventListener("click", function () {
      iframe.src = iframeURL;
      modal.style.display = "block";
      document.body.style.overflow = "hidden"; // Prevent background scrolling
    });

    closeBtn.addEventListener("click", function () {
      modal.style.display = "none";
      iframe.src = "";
      document.body.style.overflow = ""; // Restore scrolling
    });

    window.addEventListener("click", function (event) {
      if (event.target === modal) {
        modal.style.display = "none";
        iframe.src = "";
        document.body.style.overflow = ""; // Restore scrolling
      }
    });
  </script>
</body>
</html>

